<h1>Transaksi Pembelian</h1>

<form name="pembelianForm" novalidate>
    <div class="row">
        <div class="col-md-6">
            <div class="well">
               <div class="form-group" ng-class="{ 'has-error' : pembelianForm.tanggal.$invalid && !pembelianForm.tanggal.$pristine }">
                    <label>Tanggal Transaksi</label>
                    <datepicker date-set={{now}} date-format="yyyy-MM-dd">
                        <input name="tanggal" class="form-control" ng-model="pembelian.tanggal" required />
                    </datepicker>
                    <p ng-show="pembelian.tanggal.$invalid && !pembelian.tanggal.$pristine" class="help-block">
                        Tanggal transaksi tidak boleh kosong
                    </p>
                </div>

               <div class="form-group" ng-class="{ 'has-error' : pembelianForm.barang.$invalid && !pembelianForm.barang.$pristine }">
                    <label>Pilih Barang</label>
                    <select name="barang" class="form-control" ng-options="b as b.nama for b in barang" ng-model="selectedItem" ng-change="update()"></select>
                    <p ng-show="pembelian.barang.$invalid && !pembelian.barang.$pristine" class="help-block">
                        Barang tidak boleh kosong
                    </p>
                </div>

                <div class="form-group">
                    <label>Harga</label>
                    <input name="biaya" class="form-control" ng-model="pembelian.harga_barang" disabled />
                </div>

                <div class="form-group" ng-class="{ 'has-error' : pembelianForm.jumlah.$invalid && !pembelianForm.jumlah.$pristine }">
                    <label>Jumlah</label>
                    <input name="jumlah" class="form-control" type="text" ng-model="pembelian.jumlah" ng-change="change()" required>
                    <p ng-show="pembelianForm.jumlah.$invalid && !pembelianForm.jumlah.$pristine" class="help-block">
                        Jumlah tidak boleh kosong
                    </p>
                </div>

                <div class="form-group">
                    <label>Total</label>
                    <input name="biaya" class="form-control" ng-model="pembelian.total" disabled />
                </div>

                <button ng-disabled="pembelianForm.$invalid" class="btn btn-primary" ng-click="insert(pembelian)">Simpan</button>
                <button class="btn btn-default" ng-click="cancel()">Batal</button>
                
            </div> <!-- well -->

        </div> <!-- col-md-6 -->

    </div> <!-- row -->

    <!-- <div class="row">
        {{pembelian | json}}
    </div> -->

</form>
</div>